{{#section 'header'}}
    <title>Suppliers</title>
    <!--     CSS -->
    <link rel="stylesheet" href="css/tables.css">
    <!-- JS -->
    <script src="addSupplier.js"></script>
{{/section}}
<div class="inventorycontainer">
    <div class="headercontainer">
    <div class="headerleft">
        <h1>Suppliers List</h1>
    </div>
    <div class="headerright">
        <p><span>Suppliers</span></p>
    </div>
    </div>

    <div class="descriptioncontainer">
    <div class="description">
            This page stores details and information of suppliers 
            the company gets raw materials or products from.
    </div>
    </div>

    <div class="toolcontainer">
    <div class="toolleft">
        <div class="btncontainer">
        <button class="button" id="btnadditemmodal">Add a Supplier</button>
        </div>
    </div>
  
    <div class="toolright">
        <div class="dropdown">
        <button class="dropbtn">Filter By</button>
        <div class="dropdown-content">
        <a href="#">abcdefg</a>
        <a href="#">abcdefg</a>
        <a href="#">abcdefg</a>
        </div>
        </div>
    </div>
    </div>
    <br>

    <form>
    <table class="inventorytable">
        <col style="background-color: #FAFA87;"/>
        <tr>
        <th>NAME</th>
        <th>POSITION</th>
        <th>COMPANY</th>
        <th>CONTACT NO.</th>
        <th>EMAIL</th>
        <th>CONTRACT TERMS</th>
        <th>NOTES</th>
        <th>UPDATE</th>
        <th>DELETE</th>
        </tr>

        {{#each supplier}}
        <tr id={{this._id}}>
            <td class="name">{{this.name}}</td>
            <td class="position">{{this.position}}</td>
            <td class="company"> {{this.companyName}}</td>
            <td class="contact">{{this.contactNo}}</td>
            <td class="email">{{this.email}}</td>
            <td class="contract">{{this.contractTerms}}</td>
            <td class="notes">{{this.notes}}</td>
            <td>
                 <button class="button launchUpdate" data-id={{this._id}} type="button" data-toggle="modal" data-target="#updateModal">Update</button>
            </td>
             <td>
                 <button class="button launchDelete" data-id={{this._id}} type="button" data-toggle="modal" data-target="#deleteModal">Delete</button>
            </td>
        </tr>
        {{/each}}

    </table>
    </form>
</div>

<!-- Add Supplier Modal -->
<div class="modal" id="modalbg" >
    <!-- Modal Content -->
    <div class="addmodal">
    <!-- Modal Close Button -->
    <span class="close">&times;</span>
    <br>
    <!-- Modal Form -->
    <div class="modalbody">
        <!-- Modal Add Supplier Fields -->
        <div class="inputcontainer">
        <h1>Add a Supplier</h1>
        <form method='POST' autocomplete="off" name="addSupplier" action='/suppliers/addSupplier'>
            <!-- Name -->
            <div class="formcontainer">
                <div class="formlabel">
                Supplier Name
                </div>
                <div class="forminput">
                    <input type="text" name="name" required>
                </div>
            </div>
            <br>

            <!-- Position -->
            <div class="formcontainer">
                <div class="formlabel">
                    Position
                </div>
                <div class="forminput">
                    <input type="text" name="position" required>
                </div>
            </div>
            <br>

            <!-- Company -->
            <div class="formcontainer">
                <div class="formlabel">
                    Company
                </div>
                <div class="forminput">
                    <input type="text" name="company" required>
                </div>
            </div>
            <br>

            <!-- Contact No.  -->
            <div class="formcontainer">
                <div class="formlabel">
                    Contact No.
                </div>
                <div class="forminput">
                    <input type="text" name="contactNo" required>
                </div>
            </div>
            <br>

            <!-- Email -->
            <div class="formcontainer">
                <div class="formlabel">
                    Email
                </div>
                <div class="forminput">
                    <input type="text" name="email" required>
                </div>
            </div>
            <br>

            <!-- ContractTerms -->
            <div class="formcontainer">
                <div class="formlabel">
                    Contract Terms
                </div>
                <div class="forminput">
                    <input type="text" name="contractTerms" required>
                </div>
            </div>
            <br>

             <!-- Notes -->
            <div class="formcontainer">
                <div class="formlabel">
                    Notes
                </div>
                <div class="forminput">
                    <input type="text" name="notes">
                </div>
            </div>
            <br>

            <br>
            <!-- Modal Button -->
            <div class="modalbtncontainer">
                <button type="submit" id="add-item-btn" class="button">Add</button>
            </div>
        </form>
        </div>
        <br>
    </div>
    </div>
</div>

<!-- Update Product Modal -->
<div id="updateModal" class="modal" data-backdrop="false">
    <!-- Modal Content -->
    <div class="addmodal">
    <!-- Modal Close Button -->
    <span class="close" data-dismiss="modal">&times;</span>
    <br>
    <!-- Modal Form -->
    <div class="modalbody">
        <!-- Modal Add Item Fields -->
        <div class="inputcontainer">
            <h1>Update Product</h1>
            <form id="updateForm"> 
                <!-- Product Name -->
                <div class="formcontainer">
                    <div class="formlabel">
                        Name
                    </div>
                    <div class="forminput">
                        <input type="text" id="updateSuppName">
                    </div>
                </div>
                <br>

                <!-- Quantity -->
                <div class="formcontainer">
                    <div class="formlabel">
                        Position
                    </div>
                    <div class="forminput">
                        <input type="text" id="updatePosition">
                    </div>
                </div>
                <br>

                <!-- Base Price -->
                <div class="formcontainer">
                    <div class="formlabel">
                       Company
                    </div>
                    <div class="forminput">
                        <input type="text" id="updateCompany">
                    </div>
                </div>
                <br>

                <!-- Selling Price -->
                <div class="formcontainer">
                    <div class="formlabel">
                        Contact No
                    </div>
                    <div class="forminput">
                        <input type="text" id="updateContact">
                    </div>
                </div>
                <br>

                <!-- Expiry -->
                <div class="formcontainer">
                    <div class="formlabel">
                        Email
                    </div>
                    <div class="forminput">
                        <input type="text" id="updateEmail">
                    </div>
                </div>
                <br>

                <!-- Contract Terms -->
                <div class="formcontainer">
                    <div class="formlabel">
                        Contract Terms
                    </div>
                    <div class="forminput">
                        <input type="text" id="updateTerms">
                    </div>
                </div>
                <br>

                <!-- Notes -->
                <div class="formcontainer">
                    <div class="formlabel">
                        Notes
                    </div>
                    <div class="forminput">
                        <input type="text" id="updateNotes">
                    </div>
                </div>
                <br>
                    <!-- Modal Button -->
                <div class="modalbtncontainer">
                    <button type="submit" class="button" id="btnUpdateItem">Update</button>
                </div>
            </form>
        </div>
        <br>
    </div>
    </div>
</div>


<!-- Delete Supplier Modal -->
<div id="deleteModal" class="modal" data-backdrop="false">
    <!-- Modal Content -->
    <div class="addmodal">
    <!-- Modal Close Button -->
    <span class="close" data-dismiss="modal">&times;</span>
    <br>
    <!-- Modal Form -->
    <div class="modalbody">
        <!-- Modal Add Item Fields -->
        <div class="inputcontainer">
            <h1>Delete Supplier</h1>
            <p>Are you sure you want to delete this supplier?</p>
            <form id="deleteForm">
                <!-- Confirm Button -->
                <div class="modalbtncontainer">
                    <button type="submit" class="button" id="btnDeleteItem">Delete</button>
                </div>
                <!-- Cancel Button -->
                <div class="modalbtncontainer">
                    <button type="submit" class="button" id="btnCancelDeleteItem">Cancel</button>
                </div>
            </form>
        </div>
        <br>
    </div>
    </div>
</div>

<script>
    var modal = document.getElementById("modalbg");
    var btn = document.getElementById("btnadditemmodal");
    var span = document.getElementsByClassName("close")[0];
    btn.onclick = function() {
    modal.style.display = "block";
    }
    span.onclick = function() {
    modal.style.display = "none";
    }
    window.onclick = function(event) {
    if (event.target == modal) {
        modal.style.display = "none";
    }
    }
</script>